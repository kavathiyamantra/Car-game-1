
<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Car Game</title>
<style>
  body { margin:0; background:#222; display:flex; justify-content:center; align-items:center; height:100vh; }
  canvas { background: #87ceeb; display:block; border:2px solid #333; }
  #overlay { position:absolute; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; color:#fff; font-size:32px; background:rgba(0,0,0,0.5); display:none; flex-direction:column; }
  #overlay button { font-size:20px; padding:10px 20px; margin-top:20px; }
</style>
</head>
<body>
<canvas id="game" width="360" height="640"></canvas>
<div id="overlay">
  <div id="gameover">Game Over</div>
  <button onclick="restart()">Restart</button>
</div>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
let car = {x: W/2-18, y: H-100, w:36, h:56, speed:0};
let obstacles = [];
let score = 0;
let running = true;
let keys = {left:false, right:false, up:false, down:false};
window.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') keys.left=true; if(e.key==='ArrowRight') keys.right=true; if(e.key==='ArrowUp') keys.up=true; else keys.up=false; if(e.key==='ArrowDown') keys.down=true; });
window.addEventListener('keyup', e=>{ if(e.key==='ArrowLeft') keys.left=false; if(e.key==='ArrowRight') keys.right=false; if(e.key==='ArrowUp') keys.up=false; if(e.key==='ArrowDown') keys.down=false; });
canvas.addEventListener('touchstart', e=>{ const t=e.touches[0].clientX; if(t<W/2) car.x -=60; else car.x+=60; });
function spawnObstacle(){ const w=Math.random()*40+20; const h=Math.random()*30+20; const x=Math.random()*(W-w); obstacles.push({x:x, y:-h, w:w, h:h, speed:2 + Math.random()*2}); }
function collide(a,b){ return !(a.x+a.w<b.x || a.x>b.x+b.w || a.y+a.h<b.y || a.y>b.y+b.h); }
function gameOver(){ running=false; document.getElementById('overlay').style.display='flex'; }
function restart(){ car={x: W/2-18, y:H-100, w:36, h:56, speed:0}; obstacles=[]; score=0; running=true; document.getElementById('overlay').style.display='none'; loop(); }
let frame=0;
function loop(){ if(!running) return; frame++; if(keys.left) car.x -=5; if(keys.right) car.x+=5; if(keys.up) car.speed=5; else car.speed=3; car.x=Math.max(0, Math.min(W-car.w, car.x)); if(frame%60===0) spawnObstacle(); obstacles.forEach(o=>o.y+=o.speed); obstacles = obstacles.filter(o=>o.y<H+50); for(let o of obstacles){ if(collide(car,o)){ gameOver(); } } score +=0.1; ctx.fillStyle="#87ceeb"; ctx.fillRect(0,0,W,H); ctx.fillStyle="#444"; ctx.fillRect(50,0,W-100,H); ctx.fillStyle="#ff4d4d"; ctx.fillRect(car.x,car.y,car.w,car.h); ctx.fillStyle="#333"; obstacles.forEach(o=>{ctx.fillRect(o.x,o.y,o.w,o.h);}); ctx.fillStyle="#fff"; ctx.font="20px Arial"; ctx.fillText("Score: "+Math.floor(score),10,30); requestAnimationFrame(loop); }
loop();
</script>
</body>
</html>
